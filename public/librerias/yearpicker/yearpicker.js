const version="1.1.0",namespace="yearpicker";jQuery||alert(`${namespace} 1.1.0 requires jQuery`);let defaults={year:null,startYear:null,endYear:null,itemTag:"li",selectedClass:"selected",disabledClass:"disabled",hideClass:"hide",template:`<div class="yearpicker-container">
                    <div class="yearpicker-header">
                        <div class="yearpicker-prev" data-view="yearpicker-prev">&lsaquo;</div>
                        <div class="yearpicker-current" data-view="yearpicker-current">SelectedYear</div>
                        <div class="yearpicker-next" data-view="yearpicker-next">&rsaquo;</div>
                    </div>
                    <div class="yearpicker-body">
                        <ul class="yearpicker-year" data-view="years">
                        </ul>
                    </div>
                </div>
`,onShow:null,onHide:null,onChange:null};const event_click="click.",event_focus="focus.",event_keyup="keyup.",event_selected="selected.",event_show="show.",event_hide="hide.",methods={showView:function e(){let t=this;if(t.build||t.init(),t.show)return;t.show=!0;let i=t.$template,s=t.options;i.removeClass(s.hideClass).on(event_click,$.proxy(t.click,t)),$(document).on(event_click,this.onGlobalClick=$.proxy(t.globalClick,t)),s.onShow&&$.isFunction(s.onShow)&&s.onShow(t.year)},hideView:function e(){let t=this;if(!t.show)return;let i=t.$template,s=t.options;i.addClass(s.hideClass).off(event_click,t.click),$(document).off(event_click,t.onGlobalClick),t.show=!1,s.onHide&&$.isFunction(s.onHide)&&s.onHide(t.year)},toggle:function e(){this.show?this.hideView():this.show()}},handlers={click:function e(t){let i=$(t.target),s=this.viewYear;if(i.hasClass("disabled"))return;let a=i.data("view");switch(a){case"yearpicker-prev":var r=s-12;this.viewYear=r,this.renderYear();break;case"yearpicker-next":var r=s+12;this.viewYear=r,this.renderYear();break;case"yearpicker-items":this.year=parseInt(i.html()),this.renderYear(),this.hideView()}},globalClick:function e(t){let i=t.target,s=this.element,a=!0;if(i!==document){for(;i===s||1===$(i).closest(".yearpicker-header").length;){a=!1;break}i=i.parentNode}a&&this.hideView()}},render={renderYear:function e(){let t=this.options,i=t.startYear,s=t.endYear,a=t.disabledClass,r=this.viewYear,n=this.year,l=new Date,o=l.getFullYear(),c=[],d=!1,h=!1,u;for(u=-5;u<=6;u++){let p=r+u,y=!1;i&&(y=p<i,-5===u&&(d=y)),!y&&s&&(y=p>s,6===u&&(h=y));let v=p===n;c.push(this.createItem({selected:v,disabled:y,text:r+u,view:y?"yearpicker-items disabled":"yearpicker-items",highlighted:p===o}))}this.yearsPrev.toggleClass(a,d),this.yearsNext.toggleClass(a,h),this.yearsCurrent.html(n),this.yearsBody.html(c.join(" ")),this.setValue()}},Yearpicker=function(){function e(e,t){let i=this;i.options=$.extend({},defaults,t),i.$element=$(e),i.element=e,i.build=!1,i.show=!1,i.startYear=null,i.endYear=null,i.$template=$(i.options.template),i.init()}return e.prototype={init:function(){let e=this,t=this.$element,i=this.options;if(this.build)return;e.build=!0;let s=i.startYear,a=i.endYear,r=e.getValue(),n=e.$template,l=i.year;e.isInput=t.is("input")||t.is("textarea"),e.initialValue=r,e.oldValue=r;let o=new Date().getFullYear();l=l||r||null,s&&(l&&l<s&&(l=s),e.startYear=s),a&&(l&&l>a&&(l=a),e.endYear=a),e.year=l,e.viewYear=l||o,e.initialYear=l||o,e.bind(),e.yearsPrev=n.find(".yearpicker-prev"),e.yearsCurrent=n.find(".yearpicker-current"),e.yearsNext=n.find(".yearpicker-next"),e.yearsBody=n.find(".yearpicker-year"),n.addClass(i.hideClass),t.after(n.addClass(namespace+"-dropdown")),e.renderYear()},bind:function(){let e=this.$element,t=this.options;$.isFunction(t.show)&&e.on("show.",t.show),$.isFunction(t.hide)&&e.on("hide.",t.hide),$.isFunction(t.click)&&e.on(event_click,t.click),this.isInput?e.on("focus.",$.proxy(this.showView,this)):e.on(event_click,$.proxy(this.showView,this))},getValue:function(){let e=this.$element,t=this.isInput?e.val():e.text();return parseInt(t)},setValue:function(){let e=this.$element,t=this.options,i=this.year,s=this.isInput?e.val():e.text();this.isInput?e.val(i):e.html(i),s!=i&&t.onChange&&$.isFunction(t.onChange)&&t.onChange(this.year),e.trigger("change")},trigger:function(e,t){t=t||this.year;let i=$.Event(e,t);return this.$element.trigger(i),i},createItem:function(e){let t=this.options,i=t.itemTag,s=[],a={text:"",view:"",selected:!1,disabled:!1,highlighted:!1};return $.extend(a,e),a.selected&&s.push(t.selectedClass),a.disabled&&s.push(t.disabledClass),`<${i} class="${a.view} ${s.join(" ")}" data-view="${a.view}">${a.text}</${i}>`}},e}();$.extend&&$.extend(Yearpicker.prototype,methods,render,handlers),$.fn&&($.fn.yearpicker=function e(t){var i=void 0;return this.each(function(e,s){var a=$(s),r="destroy"===t,n=a.data(namespace);if(!n){if(r)return;n=new Yearpicker(s,t),a.data(namespace,n)}if("string"==typeof t){var l=n[t];$.isFunction(l)&&(i=l.apply(n,args),r&&a.removeData(namespace))}}),i?this:i},$.fn.yearpicker.constractor=Yearpicker);