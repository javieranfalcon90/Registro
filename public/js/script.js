function select_menu(e){var a="#"+e;$(a).hasClass("active")||($(a).removeClass("active"),$(a).removeClass("expand"),$(a).addClass("active expand"),$(a).find(".collapse").addClass("show"))}function createDataTable(e,a,t){var o=$("#dataTable").DataTable({autoWidth:!1,oSearch:{sSearch:t},responsive:{details:{type:"column",target:-1}},order:[[0,"DESC"]],columnDefs:[{responsivePriority:1,targets:-1},{orderable:!1,targets:e}],deferRender:!0,language:{paginate:{first:"<<",previous:"<",next:">",last:">>"},sLengthMenu:"Mostrar _MENU_ registros",sInfo:"Mostrando _START_ al _END_ de _TOTAL_ elementos",sInfoEmpty:"No hay datos para mostrar",sEmptyTable:"No hay datos para mostrar",sInfoFiltered:"(filtrado de _MAX_ elementos en total)",sLoadingRecords:"Cargando...",sProcessing:"Procesando...",sSearch:"Buscar:",sZeroRecords:"No se encontraron resultados"},processing:!0,serverSide:!0,ajax:a});return $(".toggle-vis").change(function(e){e.preventDefault();var a=o.column($(this).attr("data-column"));this.checked?a.visible(!0):a.visible(!1)}),o}function filterColumn(e){e&&(value=$("#col"+e+"_filter").val(),$("#dataTable").DataTable().column(e).search(value))}function createDelete(e,a,t){Swal.fire({title:"CONFIRMACI\xd3N",text:"Esta acci\xf3n no se podr\xe1 deshacer. Seguro que desea eliminar este elemento?",icon:"error",showCancelButton:!0,showLoaderOnConfirm:!0,cancelButtonText:"No, cancelar!",confirmButtonText:"Si, eliminar!",preConfirm(){$.ajax({url:e,data:{_token:t},method:"POST"}).always(function(){swal.close()})}})}function createDeleteAll(dataTable,route){var ch=[],i=0,set=$("#dataTable").find('tbody > tr > td input[type="checkbox"]');$(set).each(function(){$(this).is(":checked")&&(ch[i]=$(this).attr("value"),i+=1)}),0!=i?Swal.fire({title:"CONFIRMACI\xd3N",text:"Esta acci\xf3n no se podr\xe1 deshacer. Seguro que desea eliminar los elementos seleccionados?",type:"error",showCancelButton:!0,confirmButtonClass:"btn btn-danger",cancelButtonClass:"btn btn-light",cancelButtonText:"No, cancelar!",confirmButtonText:"Si, eliminar!",showLoaderOnConfirm:!0,preConfirm:function(){$.ajax({url:Routing.generate(route,{data:ch}),method:"POST"}).done(function(e){toastr.success(e.texto,"Notificaci\xf3n"),$(".group-checkable").prop("checked",""),dataTable.ajax.reload()}).fail(function(e,status,errorThrown){if("Forbidden"==errorThrown){var r="No tienes los permisos necesarios para realizar esta operaci\xf3n";toastr.error(r,"Notificaci\xf3n")}else{var r=eval("("+e.responseText+")");toastr.error(r.texto,"Notificaci\xf3n")}}).always(function(){swal.close()})}}):toastr.warning("No existen elementos seleccionados","Notificaci\xf3n")}function aprobar(e){Swal.fire({title:"CONFIRMACI\xd3N",text:"Seguro que desea aprobar este elemento?",icon:"info",showCancelButton:!0,cancelButtonText:"No, cancelar!",confirmButtonText:"Si, aprobar!",showLoaderOnConfirm:!0,preConfirm:function(){$.ajax({url:e,method:"POST"}).always(function(){swal.close(),location.reload()})}})}function rechazar(e){Swal.fire({title:"CONFIRMACI\xd3N",text:"Seguro que desea rechazar este elemento?",icon:"info",showCancelButton:!0,cancelButtonText:"No, cancelar!",confirmButtonText:"Si, rechazar!"}).then(a=>{if(a.isConfirmed){let{value:t}=Swal.fire({input:"textarea",title:"Message",inputPlaceholder:"Type your message here...",showCancelButton:!0,showLoaderOnConfirm:!0,preConfirm(a){$.ajax({url:e,data:{observaciones:a},method:"POST"}).always(function(){swal.close(),location.reload()})}})}})}$(document).ready(function(){$("body .wrapper").css("visibility","visible"),$("body .wrapper").css("opacity",1),$(".page-preloader").fadeOut("slow"),$(".datepick").daterangepicker({autoUpdateInput:!1,autoApply:!0,singleDatePicker:!0,showDropdowns:!0,maxDate:new Date,locale:{format:"DD-MM-YYYY",cancelLabel:"Limpiar",applyLabel:"Aplicar",daysOfWeek:["Do","Lu","Ma","Mi","Ju","Vi","S\xe1"],monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}}),$(".datepick").on("apply.daterangepicker",function(e,a){$(this).val(a.startDate.format("DD-MM-YYYY"))}),$(".daterange").daterangepicker({ranges:{Hoy:[moment(),moment()],Ayer:[moment().subtract(1,"days"),moment().subtract(1,"days")],"\xdaltimos 7 d\xedas":[moment().subtract(6,"days"),moment()],"Este Mes":[moment().startOf("month"),moment().endOf("month")],"Mes Pasado":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"A\xf1o Anterior":[moment().subtract(1,"year").startOf("year"),moment().subtract(1,"year").endOf("year")]},autoUpdateInput:!1,alwaysShowCalendars:!0,linkedCalendars:!1,showDropdowns:!0,locale:{format:"MM-DD-YYYY",separator:" / ",cancelLabel:"Limpiar",applyLabel:"Aplicar",linkedCalendars:!1,daysOfWeek:["Do","Lu","Ma","Mi","Ju","Vi","S\xe1"],monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}}),$(".daterange").on("apply.daterangepicker",function(e,a){$(this).val(a.startDate.format("DD-MM-YYYY")+" / "+a.endDate.format("DD-MM-YYYY"))}),$(".daterange").on("cancel.daterangepicker",function(e,a){$(this).val("")}),$("#form").validate({ignore:":hidden:not([class~=selectized]), :hidden > .selectized, .selectize-control .selectize-input input",errorElement:"div",errorPlacement:function(e,a){var t=$(a).parent().find("span.error");0==t.length&&(t=$(a).parent().parent().find("span.error")),e.insertAfter(t),$("div.error").addClass("invalid-feedback")}}),$("#form .select2").change(function(){$("#form").validate().element($(this))}),select2=$(".select2").select2({language:"es",theme:"bootstrap-5",placeholder:""}),$(".group-checkable").prop("checked",""),$(".group-checkable").change(function(){var e=$("#dataTable").find('tbody > tr > td input[type="checkbox"]'),a=$(this).prop("checked");$(e).each(function(){$(this).prop("checked",a)})})});